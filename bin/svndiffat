#! /bin/sh
#diff the specified version with it's previous

if [ $# -ne 2 -o "$1" = "-h" ] ; then
  echo "Diff the specified version with it's previous"
  echo "Usage : svndiffat filename version"
  exit 1
fi

file=$1
previous=$(($2-1))

svn cat $file -r $previous > ${file}.${previous}.c && svn cat $file -r $2 > ${file}.${2}.c && vimdiff ${file}.${2}.c ${file}.${previous}.c
rm -f ${file}.${2}.c ${file}.${previous}.c

